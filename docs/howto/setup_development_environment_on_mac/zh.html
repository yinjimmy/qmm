<h1 id="&#35774;&#32622;-quick-cocos2d-x-&#22312;-mac-&#19979;&#30340;&#32534;&#35793;&#29615;&#22659;">&#35774;&#32622; quick-cocos2d-x &#22312; Mac &#19979;&#30340;&#32534;&#35793;&#29615;&#22659;</h1>
<p>&#22914;&#26524;&#19981;&#38656;&#35201; Android&#65292;&#37027;&#20040;&#21487;&#20197;&#36339;&#36807; 2/6 &#20004;&#20010;&#27493;&#39588;&#12290;</p>
<p>&#37197;&#32622;&#32534;&#35793;&#29615;&#22659;&#30340;&#22522;&#26412;&#27493;&#39588;&#65306;</p>
<ol style="list-style-type: decimal">
<li>&#23433;&#35013; Xcode</li>
<li>&#23433;&#35013;&#26368;&#26032;&#30340; Android ADT bundle &#21644; Android NDK</li>
<li>&#19979;&#36733; quick-cocos2d-x &#28304;&#20195;&#30721;</li>
<li>&#35774;&#32622;&#29615;&#22659;&#21464;&#37327;</li>
<li>&#32534;&#35793; quick-x-player proj.mac &#39033;&#30446;</li>
<li>&#32534;&#35793; LuaJavaBridge &#31034;&#20363;&#65292;&#24182;&#22312; Android &#30495;&#26426;&#19978;&#36827;&#34892;&#27979;&#35797;</li>
</ol>
<h2 id="step-1-&#23433;&#35013;-xcode">Step 1: &#23433;&#35013; Xcode</h2>
<p>&#20174; <a href="https://developer.apple.com/xcode/index.php">https://developer.apple.com/xcode/index.php</a> &#19979;&#36733;&#26368;&#26032;&#31283;&#23450;&#29256; Xcode&#65292;&#24182;&#36827;&#34892;&#23433;&#35013;&#12290;</p>
<p>Xcode &#23433;&#35013;&#23436;&#25104;&#21518;&#65292;&#25171;&#24320;&#8220;&#20559;&#22909;&#35774;&#32622;&#8221;&#23545;&#35805;&#26694;&#65292;&#23433;&#35013; ** Command Line Tools **.</p>
<div class="figure">
<img src="res/howto_setup_development_environment_mac_01.png" />
</div>
<h2 id="step-2-&#23433;&#35013;&#26368;&#26032;&#30340;-android-adt-bundle-&#21644;-android-ndk">Step 2: &#23433;&#35013;&#26368;&#26032;&#30340; Android ADT bundle &#21644; Android NDK</h2>
<ol style="list-style-type: decimal">
<li>&#20174; http://developer.android.com/sdk/ &#19979;&#36733; ADT Bundle for Mac</li>
<li>&#35299;&#21387;&#32553; adt-bundle-mac-x86_64-2013????.zip</li>
<li>&#23558; adt-bundle-mac-x86_64-2014???? &#30446;&#24405;&#25913;&#21517;&#20026; android</li>
<li>&#23558; android/sdk &#30446;&#24405;&#25913;&#21517;&#20026; android/android-sdk-macosx</li>
<li>&#20174; http://developer.android.com/tools/sdk/ndk/index.html &#19979;&#36733; Android NDK</li>
<li>&#35299;&#21387;&#32553; android-ndk-r?-mac-x86_64.tar.bz2</li>
<li>&#31227;&#21160;&#30446;&#24405; android-ndk-r? &#21040; android/android-ndk-r? (&#30446;&#24405;&#32467;&#26500;&#22914;&#19979;&#22270;)</li>
</ol>
<p>&#26368;&#32456;&#30340;&#30446;&#24405;&#32467;&#26500;:</p>
<pre><code>&lt;PATH_TO&gt;/android/android-ndk-r?
&lt;PATH_TO&gt;/android/android-sdk-macosx
&lt;PATH_TO&gt;/android/eclipse</code></pre>
<div class="figure">
<img src="res/howto_setup_development_environment_mac_02.png" />
</div>
<p>&#36816;&#34892; android/android-sdk-macosx/tools/android, &#36873;&#20013; Android SDK 2.2&#65288;&#22914;&#26524;&#30475;&#19981;&#21040; Android SDK 2.2&#65292;&#35831;&#35774;&#32622;&#20195;&#29702;&#65289;, &#24182;&#23436;&#25104;&#23433;&#35013;&#12290; <img src="res/howto_setup_development_environment_mac_03.png" /></p>
<h2 id="step-3-&#19979;&#36733;-quick-cocos2d-x-&#28304;&#20195;&#30721;">Step 3: &#19979;&#36733; quick-cocos2d-x &#28304;&#20195;&#30721;</h2>
<p>&#26041;&#27861; 1: &#26368;&#24555;&#36895;&#33719;&#24471;&#28304;&#20195;&#30721;&#30340;&#36884;&#24452;&#26159;&#36890;&#36807; <a href="http://quick.cocoachina.com/">quick-cocos2d-x</a> &#23448;&#26041;&#32593;&#31449;&#19978;&#30340;&#19979;&#36733;&#39029;&#38754;&#12290;&#36825;&#37324;&#21015;&#20986;&#20102;&#25152;&#26377;&#30340;&#31283;&#23450;&#29256;&#26412;&#21450;&#20854;&#19979;&#36733;&#38142;&#25509;&#12290;</p>
<p>&#27880;&#24847;&#65292;&#35299;&#21387;&#32553;&#30340;&#28304;&#20195;&#30721;&#19981;&#33021;&#25918;&#22312;&#26377;&#31354;&#26684;&#21644;&#27721;&#23383;&#30340;&#36335;&#24452;&#20013;&#12290;</p>
<p>&#26041;&#27861; 2: &#20351;&#29992; git &#24037;&#20855;&#20811;&#38534; quick-cocos2d-x &#20179;&#24211;&#12290;&#21551;&#21160; &#32456;&#31471; &#24212;&#29992;&#31243;&#24207;, &#36816;&#34892;&#21629;&#20196;:</p>
<pre><code>
$ git clone git@github.com:chukong/quick-cocos2d-x.git

    Cloning into &#39;quick-cocos2d-x&#39;...</code></pre>
<p>&#22914;&#26524;&#35775;&#38382; github.com &#36895;&#24230;&#22826;&#24930;&#65292;&#21487;&#20197;&#20351;&#29992;&#22269;&#20869;&#38236;&#20687;&#20179;&#24211;&#65292;&#32593;&#39029;&#65306;<a href="https://code.csdn.net/liaoyulei01/quick-cocos2d-x">https://code.csdn.net/liaoyulei01/quick-cocos2d-x</a></p>
<p>&#20445;&#25345; git &#20179;&#24211;&#22788;&#20110;&#26368;&#26032;&#29366;&#24577;</p>
<p>&#36816;&#34892;&#21629;&#20196;:</p>
<pre><code>
$ cd quick-cocos2d-x
$ git pull
</code></pre>
<h2 id="step-4-&#35774;&#32622;&#29615;&#22659;&#21464;&#37327;">Step 4: &#35774;&#32622;&#29615;&#22659;&#21464;&#37327;</h2>
<p>&#21551;&#21160; &#32456;&#31471; &#24212;&#29992;&#31243;&#24207;, &#36816;&#34892;&#21629;&#20196;:</p>
<pre><code>
$ touch ~/.bash_profile
$ open ~/.bash_profile -a TextEdit
</code></pre>
<p>&#28155;&#21152;&#19979;&#21015;&#20195;&#30721;:</p>
<pre><code>
export ANDROID_NDK_ROOT=&lt;PATH_TO&gt;/android/android-ndk-r8e
export ANDROID_SDK_ROOT=&lt;PATH_TO&gt;/android/android-sdk-macosx
export QUICK_COCOS2DX_ROOT=&lt;PATH_TO&gt;/quick-cocos2d-x
export COCOS2DX_ROOT=${QUICK_COCOS2DX_ROOT}/lib/cocos2d-x
export ANDROID_HOME=${ANDROID_SDK_ROOT}
</code></pre>
<p>&#21551;&#21160; Xcode&#65292;&#22312;&#8220;&#20559;&#22909;&#35774;&#32622;&#8221;&#20013;&#28155;&#21152; Source Trees:</p>
<div class="figure">
<img src="res/howto_setup_development_environment_mac_04.png" />
</div>
<h2 id="step-5-&#32534;&#35793;-quick-x-player-proj.mac-&#39033;&#30446;">Step 5: &#32534;&#35793; quick-x-player proj.mac &#39033;&#30446;</h2>
<p>&#21551;&#21160; Xcode, &#25171;&#24320;&#39033;&#30446; &lt;PATH_TO&gt;/quick-cocos2d-x/player/proj.mac/quick-x-player.xcodeproj.</p>
<p>&#32534;&#35793;&#36816;&#34892;&#12290;</p>
<h2 id="step-6-&#32534;&#35793;-luajavabridge-&#31034;&#20363;&#24182;&#22312;-android-&#30495;&#26426;&#19978;&#36827;&#34892;&#27979;&#35797;">Step 6: &#32534;&#35793; LuaJavaBridge &#31034;&#20363;&#65292;&#24182;&#22312; Android &#30495;&#26426;&#19978;&#36827;&#34892;&#27979;&#35797;</h2>
<p>&#21551;&#21160; &#32456;&#31471; &#24212;&#29992;&#31243;&#24207;, &#25913;&#21464;&#24403;&#21069;&#30446;&#24405;&#20026; <PATH_TO>/quick-cocos2d-x/sample/luajavabridge/proj.android, &#36816;&#34892; build_native.sh:</p>
<pre><code>
$ cd quick-cocos2d-x/sample/luajavabridge/proj.android
$ ./build_native.sh
</code></pre>
<p>&#22914;&#26524;&#19968;&#20999;&#39034;&#21033;&#65292;&#23558;&#30475;&#21040;:</p>
<pre><code>
SharedLibrary  : libgame.so
Install        : libgame.so =&gt; libs/armeabi/libgame.so
</code></pre>
<h3 id="&#23558;&#39033;&#30446;&#23548;&#20837;-eclipse-adt">&#23558;&#39033;&#30446;&#23548;&#20837; Eclipse ADT</h3>
<p>&#21551;&#21160; <PATH_TO>/eclipse/eclipse.app &#24212;&#29992;&#31243;&#24207;, &#23548;&#20837; libcocos2dx &#24211;.</p>
<p>1.&#36873;&#25321;&#33756;&#21333; File -&gt; Import, &#20877;&#36873;&#25321; Android -&gt; Existing Android Code Into Workspace :</p>
<div class="figure">
<img src="res/howto_setup_development_environment_mac_05.png" />
</div>
<p>2.&#28857;&#20987; Browse &#25353;&#38062;, &#36873;&#25321; <PATH_TO>/quick-cocos2d-x/lib/cocos2d-x/cocos2dx/platform/android/java :</p>
<div class="figure">
<img src="res/howto_setup_development_environment_mac_06.png" />
</div>
<p>3.&#28857;&#20987; Finish.</p>
<p>4.&#37325;&#22797;&#19978;&#36848;&#27493;&#39588;&#65292;&#23548;&#20837; luajavabridge/proj.android:</p>
<p>5.&#22312; Package Explorer &#20013;&#36873;&#20013; LuajavaBridge&#65292;&#28857;&#20987;&#21491;&#38190;&#36873;&#25321;&#33756;&#21333; Properties:</p>
<div class="figure">
<img src="res/howto_setup_development_environment_mac_07.png" />
</div>
<p>6.&#22914;&#26524; ** Library ** &#21015;&#34920;&#37324; ** libcocos2dx ** &#24050;&#32463;&#23384;&#22312;&#65292;&#23601;&#20808;&#21024;&#38500;&#12290;&#28857;&#20987; ** Add ** &#25353;&#38062;, &#36873;&#20013; ** libcocos2dx **.</p>
<div class="figure">
<img src="res/howto_setup_development_environment_mac_08.png" />
</div>
<p>7.&#23436;&#25104;&#12290;</p>
<h3 id="&#35774;&#32622;-android-&#35774;&#22791;&#20801;&#35768;&#30495;&#26426;&#35843;&#35797;">&#35774;&#32622; Android &#35774;&#22791;&#20801;&#35768;&#30495;&#26426;&#35843;&#35797;</h3>
<p>Android &#23448;&#26041;&#25991;&#26723;&#65306;http://developer.android.com/tools/device.html</p>
<ol style="list-style-type: decimal">
<li>Enable USB debugging on your device.
<ul>
<li>On most devices running Android 3.2 or older, you can find the option under Settings &gt; Applications &gt; Development.</li>
<li>On Android 4.0 and newer, it&#8217;s in Settings &gt; Developer options.</li>
</ul>
Note: On Android 4.2 and newer, Developer options is hidden by default. To make it available, go to Settings &gt; About phone and tap Build number seven times. Return to the previous screen to find Developer options.
<ul>
<li>&#22312;&#31995;&#32479;&#35774;&#32622;&#20013;&#25214;&#21040;&#8220;&#24320;&#21457;&#32773;&#36873;&#39033;&#8221;&#65292;&#25171;&#24320;&#8220;USB&#35843;&#35797;&#8221;&#12290;</li>
</ul></li>
<li>Set up your system to detect your device.
<ul>
<li>If you&#8217;re developing on Windows, you need to install a USB driver for adb. For an installation guide and links to OEM drivers, see the OEM USB Drivers document.</li>
<li>&#26681;&#25454;&#19981;&#21516;&#30340;&#26426;&#22411;&#65292;&#20063;&#35768;&#38656;&#35201;&#23433;&#35013;&#35813;&#26426;&#22411;&#29305;&#23450;&#30340; USB &#39537;&#21160;&#31243;&#24207;&#12290;&#20363;&#22914; Moto &#23601;&#24517;&#39035;&#23433;&#35013; Moto &#30340; USB &#39537;&#21160;&#12290;</li>
</ul></li>
</ol>
<h3 id="&#22312;&#35774;&#22791;&#19978;&#27979;&#35797;-luajavabridge-&#31034;&#20363;">&#22312;&#35774;&#22791;&#19978;&#27979;&#35797; LuaJavaBridge &#31034;&#20363;</h3>
<ol style="list-style-type: decimal">
<li><p>&#22312; Eclipse &#37324;&#36873;&#25321;&#33756;&#21333; Window -&gt; Show View -&gt; Other&#8230;, &#20877;&#36873;&#25321; Android -&gt; Devices.</p></li>
<li><p>&#22914;&#26524;&#35774;&#22791;&#35774;&#32622;&#23436;&#25104;&#65292;&#37027;&#20040;&#22312; Devices &#26631;&#31614;&#39029;&#20013;&#23601;&#21487;&#20197;&#30475;&#21040;&#20320;&#30340;&#35774;&#22791;:</p></li>
<li><p>&#22312;&#39033;&#30446; LuajavaBridge &#19978;&#28857;&#20987;&#40736;&#26631;&#21491;&#38190;, &#36873;&#25321;&#33756;&#21333; Debug As -&gt; Android Application. &#22914;&#26524;&#19968;&#20999;&#27491;&#24120;&#65292;&#31561;&#19968;&#20250;&#20799;&#23601;&#21487;&#20197;&#22312;&#35774;&#22791;&#19978;&#30475;&#21040;&#36816;&#34892;&#30011;&#38754;&#20102;&#65306;</p></li>
</ol>
<div class="figure">
<img src="res/howto_setup_development_environment_mac_09.png" />
</div>
<h4 id="&#25552;&#31034;">&#25552;&#31034;</h4>
<p>&#25130;&#27490;2014.5.28, <strong>NDK</strong> &#24050;&#26356;&#26032;&#21040; <strong>android-ndk-r9d</strong>,&#35831;&#29992;&#26032;&#30340;NDK&#29256;&#26412;</p>
