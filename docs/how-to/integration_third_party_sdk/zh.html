<h1 id="&#22312;quick&#20013;&#38598;&#25104;&#31532;&#19977;&#26041;sdk">&#22312;QUICK&#20013;&#38598;&#25104;&#31532;&#19977;&#26041;SDK</h1>
<p>&#26412;&#25991;&#20998;&#21035;&#35762;&#35299;&#20004;&#31181;&#19981;&#21516;&#31867;&#22411;SDK&#30340;&#38598;&#25104;&#27969;&#31243;</p>
<ol style="list-style-type: decimal">
<li>&#38598;&#25104;&#21508;&#24179;&#21488;&#21407;&#29983;&#20195;&#30721;(&#20197;&#38598;&#25104;&#35302;&#25511;&#24191;&#21578;SDK&#20026;&#20363;)</li>
<li>&#38598;&#25104;C++&#20195;&#30721;(&#20197;&#21451;&#30431;&#28216;&#25103;&#32479;&#35745;&#20026;&#20363;)</li>
</ol>
<h2 id="&#38598;&#25104;&#35302;&#25511;&#24191;&#21578;sdk">&#38598;&#25104;&#35302;&#25511;&#24191;&#21578;SDK</h2>
<h3 id="&#19979;&#36733;sdk">&#19979;&#36733;SDK</h3>
<p>&#32593;&#22336;:<a href="http://dev.cocounion.com/abdev/index">http://dev.cocounion.com/abdev/index</a></p>
<h3 id="ios&#29256;&#38598;&#25104;">IOS&#29256;&#38598;&#25104;</h3>
<p>1.&#35299;&#21387;&#21518;&#65292;&#23558;libPunchBoxAd&#25335;&#36125;&#21040; $QUICK_COCOS2DX_ROOT/lib/sdk/punchbox_ad/punchbox_ad_ios/src &#20013;</p>
<p>2.&#25171;&#24320;&#35201;&#38598;&#25104;&#30340;&#39033;&#30446;&#30340;xcode&#24037;&#31243;&#65292;&#23558; $QUICK_COCOS2DX_ROOT/lib/sdk/punchbox_ad/punchbox_ad_ios &#20013;&#30340;&#20195;&#30721;&#21152;&#21040;xcode&#20013;</p>
<p>3.&#38598;&#25104;&#20013;&#25152;&#38656;&#35201;&#30340;&#20013;&#38388;&#20195;&#30721;&#25918;&#22312;$QUICK_COCOS2DX_ROOT/lib/sdk/punchbox_ad/punchbox_ad_ios&#19979;</p>
<div class="figure">
<img src="res/integration_third_party_01.png" />
</div>
<p>4.&#20013;&#38388;&#23618;&#23545;lua&#25552;&#20379;&#30340;&#25509;&#21475;&#24517;&#39035;&#20840;&#26159;&#31867;&#26041;&#27861;</p>
<p>PunchBoxAdSDK.h</p>
<pre><code>
@interface PunchBoxAdSDK : NSObject

// public interface

+ (void) start:(NSDictionary*)options;
+ (void) stop;
+ (void) show:(NSDictionary*)options;
+ (void) remove;
+ (void) addScriptListener:(NSDictionary*)options;
+ (void) removeScriptListener;

@end
</code></pre>
<p>5.&#22312;framework&#20013;&#21152;&#20837;</p>
<ul>
<li>cc.ad.PunchBox.lua // punchbox&#24037;&#21378;&#31867;&#65292;&#26681;&#25454;&#24179;&#21488;&#21019;&#24314;&#23545;&#30340;&#23454;&#20363;&#31867;</li>
<li>cc.ad.punchbox.ProviderIOS.lua // <strong>&#35843;&#29992;PunchBoxAdSDK&#25509;&#21475;</strong></li>
<li>cc.ad.init.lua // &#21152;&#20837;&#26681;&#25454;&#21442;&#25968;&#26159;&#21542;&#21551;&#21160;&#35843;&#29992;punchbox Ad&#30340;&#21028;&#26029;</li>
</ul>
<h3 id="android&#38598;&#25104;">Android&#38598;&#25104;</h3>
<p>1.&#35299;&#21387;&#21518;&#65292;&#23558;libs&#25335;&#36125;&#21040;&#35201;&#38598;&#25104;&#39033;&#30446;&#30340;proj.android/libs&#20013;</p>
<p>2.&#25171;&#24320;&#35201;&#38598;&#25104;&#39033;&#30446;&#30340;Android&#24037;&#31243;&#65292;&#22312;BuildPath&#20013;-&gt;link source&#36873;&#25321;$QUICK_COCOS2DX_ROOT/lib/sdk/punchbox_ad/punchbox_ad_android/punchbox_ad_android&#30446;&#24405;</p>
<div class="figure">
<img src="res/integration_third_party_03.png" />
</div>
<p>3.&#38598;&#25104;&#20013;&#25152;&#38656;&#35201;&#30340;&#20013;&#38388;&#20195;&#30721;&#25918;&#22312;$QUICK_COCOS2DX_ROOT/lib/sdk/punchbox_ad/punchbox_ad_android/punchbox_ad_android&#19979;</p>
<div class="figure">
<img src="res/integration_third_party_04.png" />
</div>
<p>4.&#20013;&#38388;&#23618;&#23545;lua&#25552;&#20379;&#30340;&#25509;&#21475;&#24517;&#39035;&#20840;&#26159;&#31867;&#26041;&#27861;</p>
<p>PunchBoxAdSDK.h</p>
<pre><code>
public class PunchBoxSDK {

    public static void start(String appId_) {
        ....
    }
    
    public static void show(final String adType, final String adId, final String adPosition) {
        ....
    }
    
    ....
}
</code></pre>
<p>5.&#22312;framework&#20013;&#21152;&#20837;</p>
<ul>
<li>cc.ad.PunchBox.lua // punchbox&#24037;&#21378;&#31867;&#65292;&#26681;&#25454;&#24179;&#21488;&#21019;&#24314;&#23545;&#30340;&#23454;&#20363;&#31867;</li>
<li>cc.ad.punchbox.ProviderAndroid.lua // ** &#35843;&#29992;PunchBoxAdSDK&#25509;&#21475; **</li>
<li>cc.ad.init.lua // &#21152;&#20837;&#26681;&#25454;&#21442;&#25968;&#26159;&#21542;&#21551;&#21160;&#35843;&#29992;punchbox Ad&#30340;&#21028;&#26029;</li>
</ul>
<h3 id="lua&#23618;&#35843;&#29992;">lua&#23618;&#35843;&#29992;</h3>
<p>1.&#26681;&#25454;&#24179;&#21488;&#21551;&#21160;&#24191;&#21578;&#27169;&#22359;</p>
<pre><code>
if device.platform == &quot;ios&quot; or device.platform == &quot;android&quot; then
    cc.ad:start({appId = PUNCHBOX_AD_SDK_APP_ID}, &quot;ad.PunchBox&quot;)
end
</code></pre>
<p>2.&#26174;&#31034;banner&#24191;&#21578;</p>
<pre><code>
cc.ad:doCommand{command = &quot;banner&quot;, args = {id = PUNCHBOX_AD_SDK_BANNER_ID, position = &quot;top&quot;}}
</code></pre>
<p><strong>&#25552;&#31034;</strong>: &#20855;&#20307;&#23454;&#38469;&#35831;&#21442;&#35265;samples/punchbox_ad&#21450;SDK&#23545;&#24212;&#30340;&#38598;&#25104;&#35828;&#26126;&#25991;&#26723;</p>
<h2 id="&#38598;&#25104;&#21451;&#30431;&#32479;&#35745;sdk">&#38598;&#25104;&#21451;&#30431;&#32479;&#35745;SDK</h2>
<h3 id="&#19979;&#36733;sdk-1">&#19979;&#36733;SDK</h3>
<p>&#32593;&#22336;:<a href="http://dev.umeng.com/game/game-cocos2d/sdk-download">http://dev.umeng.com/game/game-cocos2d/sdk-download</a></p>
<h3 id="&#23545;mobclickcpp&#23553;&#35013;">&#23545;MobClickCpp&#23553;&#35013;</h3>
<p>&#22240;&#20026;MobClickCpp.h&#20013;&#26377;&#19968;&#20010;map&#31867;&#22411;&#30340;&#21442;&#25968;&#31561;&#21407;&#22240;&#65292;&#25105;&#20204;&#22312;&#20854;&#19978;&#38754;&#21152;&#19968;&#20010;MobClickCppForLua&#31867;&#20316;&#20013;&#36716;</p>
<h3 id="&#25335;&#36125;&#25991;&#20214;">&#25335;&#36125;&#25991;&#20214;</h3>
<p>&#25226;</p>
<ul>
<li>$QUICK_COCOS2DX_ROOT/lib/sdk/umeng_analytics/MobClickCpp.h</li>
<li>$QUICK_COCOS2DX_ROOT/lib/sdk/umeng_analytics/MobClickCppForLua.h</li>
<li>$QUICK_COCOS2DX_ROOT/lib/sdk/umeng_analytics/MobClickCppForLua.cpp</li>
<li>$QUICK_COCOS2DX_ROOT/lib/sdk/umeng_analytics/MobClickCppForLua_luabinding.h</li>
<li>$QUICK_COCOS2DX_ROOT/lib/sdk/umeng_analytics/MobClickCppForLua_luabinding.cpp</li>
</ul>
<p>&#25335;&#36125;&#21040;&#23545;&#35937;&#30340;&#24037;&#31243;&#20013;&#30340;source&#25991;&#20214;&#22841;&#19979;</p>
<div class="figure">
<img src="res/integration_third_party_06.png" />
</div>
<h3 id="ios&#29256;&#38598;&#25104;-1">IOS&#29256;&#38598;&#25104;</h3>
<p>&#25226;</p>
<ul>
<li>$QUICK_COCOS2DX_ROOT/lib/sdk/umeng_analytics/umeng_analytics_ios/libMobClickCpp.a</li>
<li>$proj/sources/MobClickCpp.h</li>
<li>$proj/sources/MobClickCppForLua.h</li>
<li>$proj/sources/MobClickCppForLua.cpp</li>
<li>$proj/sources/MobClickCppForLua_luabinding.h</li>
<li>$proj/sources/MobClickCppForLua_luabinding.cpp</li>
</ul>
<p>&#21152;&#21040;xcode&#24037;&#31243;&#20013;</p>
<p>$proj&#34920;&#31034;&#24403;&#21069;&#24037;&#31243;&#30446;&#24405;</p>
<div class="figure">
<img src="res/integration_third_party_05.png" />
</div>
<p><strong>&#27880;&#24847;</strong> : cocos2d-x&#39033;&#30446;&#40664;&#35748;&#20351;&#29992;libstdc++&#32534;&#35793;,&#22914;&#26524;&#24744;&#30340;&#39033;&#30446;&#27491;&#22312;&#20351;&#29992;libc++&#32534;&#35793;&#35831;&#20351;&#29992;libMobClickCppWithLibCpp.a</p>
<p>&#20381;&#36182;&#26694;&#26550;&#20013;&#28155;&#21152;libz.dylib</p>
<h3 id="android&#29256;&#38598;&#25104;">Android&#29256;&#38598;&#25104;</h3>
<ul>
<li>&#23558; $QUICK_COCOS2DX_ROOT/lib/sdk/umeng_analytics/umeng_analytics_android&#20013;&#30340;libs,res&#20869;&#23481;&#25335;&#36125;&#21040;&#38656;&#35201;&#38598;&#25104;&#30340;eclipse&#24037;&#31243;&#19979;</li>
<li>&#20462;&#25913;proj.android/jni/Android.mk</li>
</ul>
<pre><code>
    LOCAL_SRC_FILES :=
        ../../sources/MobClickCppForLua_luabinding.cpp \
        ../../sources/MobClickCppForLua.cpp
    LOCAL_LDLIBS := $(LOCAL_PATH)/../libs/cocos2dx2_libMobClickCpp.a
</code></pre>
<ul>
<li>&#20462;&#25913;proj.android/jni/helloCpp/main.cpp, &#22312;&#20854;&#20013;&#30340;JNI_OnLoad&#20989;&#25968;&#20013;&#21152;&#20837;</li>
</ul>
<pre><code>
    MobClickCpp::initJniForCocos2dx2((void*)vm,
    &quot;&#27492;&#22788;&#22635;&#20889;&#19978;&#19968;&#27493;&#20462;&#25913;&#30340;activity&#30340;&#21517;&#23383; &#22914;org/cocos2d_x/samples/umeng_analytics/Umeng_analytics&quot;);
</code></pre>
<ul>
<li>&#20462;&#25913;&#28216;&#25103;&#20013;&#20027;activity&#65292;&#35265;&#26679;&#20363;&#20013;&#30340;Umeng_analytics</li>
<li>&#22312;applicationDidFinishLaunching&#35843;&#29992;luaopen_MobClickCppForLua_luabinding&#20989;&#25968;</li>
</ul>
<h3 id="lua&#23618;&#35843;&#29992;-1">lua&#23618;&#35843;&#29992;</h3>
<ul>
<li>&#22312;app&#20013;&#21551;&#21160;&#24182;&#35774;&#32622;setappkey</li>
</ul>
<pre><code>
-- init analytics
if device.platform == &quot;android&quot; or device.platform == &quot;ios&quot; then
        cc.analytics:start(&quot;analytics.UmengAnalytics&quot;)
end
    
if device.platform == &quot;android&quot; then
        cc.analytics:doCommand{command = &quot;startWithAppkey&quot;,
                args = {appKey = &quot;536b184d56240bb2cd02adbf&quot;}}
elseif device.platform == &quot;ios&quot; then
        cc.analytics:doCommand{command = &quot;startWithAppkey&quot;,
                args = {appKey = &quot;5369de0b56240b5363019991&quot;}}
end
</code></pre>
<ul>
<li>&#35843;&#29992;&#30456;&#20851;&#25509;&#21475;</li>
</ul>
<pre><code>
-- &#36890;&#36807;&#25903;&#20184;&#23453;&#29992; 10&#20803;&#38065; &#36141;&#20080;&#20102; 1000 &#20010;&#37329;&#24065;
cc.analytics:doCommand{command = &quot;payCoin&quot;, args = {cash = 10, source = 2, coin = 1000}}
</code></pre>
<p><strong>&#25552;&#31034;</strong> : &#20855;&#20307;&#23454;&#38469;&#35831;&#21442;&#35265;samples/umeng_analytics&#21450;SDK&#23545;&#24212;&#30340;&#38598;&#25104;&#35828;&#26126;&#25991;&#26723;</p>
